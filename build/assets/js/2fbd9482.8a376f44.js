"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[9996],{4461:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"module-1-ros2/architecture","title":"ROS 2 Architecture & Core Concepts","description":"ROS 1 vs ROS 2 differences, DDS explained, Workspace structure, Packages, nodes, executables, colcon build system.","source":"@site/docs/module-1-ros2/architecture.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/architecture","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/module-1-ros2/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/Darakhshan08/Physical-AI-Humanoid-Robotics-Textbook/tree/main/docs/module-1-ros2/architecture.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"architecture","title":"ROS 2 Architecture & Core Concepts","sidebar_label":"ROS 2 Architecture","sidebar_position":1,"description":"ROS 1 vs ROS 2 differences, DDS explained, Workspace structure, Packages, nodes, executables, colcon build system.","keywords":["ros2","architecture","dds","workspace","packages","nodes","colcon"]},"sidebar":"tutorialSidebar","previous":{"title":"Part 1: The Robotic Nervous System - ROS 2","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/category/part-1-the-robotic-nervous-system---ros-2"},"next":{"title":"Nodes, Topics, Services","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/module-1-ros2/nodes-topics-services"}}');var i=s(4848),n=s(8453);const l={id:"architecture",title:"ROS 2 Architecture & Core Concepts",sidebar_label:"ROS 2 Architecture",sidebar_position:1,description:"ROS 1 vs ROS 2 differences, DDS explained, Workspace structure, Packages, nodes, executables, colcon build system.",keywords:["ros2","architecture","dds","workspace","packages","nodes","colcon"]},c="ROS 2 Architecture & Core Concepts",o={},a=[{value:"ROS 1 vs ROS 2: Why Upgrade?",id:"ros-1-vs-ros-2-why-upgrade",level:2},{value:"DDS (Data Distribution Service) Explained",id:"dds-data-distribution-service-explained",level:2},{value:"Workspace Structure: src, build, install, log",id:"workspace-structure-src-build-install-log",level:2},{value:"Creating a ROS 2 Workspace",id:"creating-a-ros-2-workspace",level:3},{value:"Packages, Nodes, Executables",id:"packages-nodes-executables",level:2},{value:"colcon Build System",id:"colcon-build-system",level:2}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"ros-2-architecture--core-concepts",children:"ROS 2 Architecture & Core Concepts"})}),"\n",(0,i.jsx)(t.p,{children:"The Robot Operating System (ROS) has become the de facto standard for robotic software development. ROS 2 is the successor to ROS 1, bringing significant improvements, particularly in areas critical for modern robotics like real-time communication, security, and support for diverse platforms."}),"\n",(0,i.jsx)(t.h2,{id:"ros-1-vs-ros-2-why-upgrade",children:"ROS 1 vs ROS 2: Why Upgrade?"}),"\n",(0,i.jsx)(t.p,{children:"ROS 1, while revolutionary, had limitations that became apparent as robotics evolved. ROS 2 was re-architected from the ground up to address these challenges."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Feature"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"ROS 1"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"ROS 2"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Communication"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Custom TCP/IP (TCPROS), UDP (UDPROS)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"DDS (Data Distribution Service)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Real-time"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Best-effort, not real-time"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Supports real-time (with appropriate OS/hardware)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Security"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"None by default"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"DDS-Security (Authentication, Authorization, Encryption)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Multi-robot"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Challenging, single ROS master"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Natively supports multi-robot systems"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Platforms"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Primarily Linux"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Linux, Windows, macOS, RTOS"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Quality of Service (QoS)"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Limited"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Configurable QoS policies (reliability, durability, etc.)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Lifecycle"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Manual node startup/shutdown"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Managed node lifecycles (configurable states)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.strong,{children:"Tooling"})}),(0,i.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,i.jsx)(t.code,{children:"catkin_make"}),", ",(0,i.jsx)(t.code,{children:"rosrun"}),", ",(0,i.jsx)(t.code,{children:"rosnode"})]}),(0,i.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,i.jsx)(t.code,{children:"colcon build"}),", ",(0,i.jsx)(t.code,{children:"ros2 run"}),", ",(0,i.jsx)(t.code,{children:"ros2 node"})]})]})]})]}),"\n",(0,i.jsx)(t.p,{children:"The transition to DDS-based communication is the most fundamental change, enabling ROS 2 to be more distributed, robust, and secure."}),"\n",(0,i.jsx)(t.h2,{id:"dds-data-distribution-service-explained",children:"DDS (Data Distribution Service) Explained"}),"\n",(0,i.jsx)(t.p,{children:"DDS is an international standard for publish-subscribe (pub/sub) data exchange in distributed real-time systems. It forms the communication backbone of ROS 2."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Key characteristics of DDS:"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Decentralized"}),": No central broker (like ROS Master in ROS 1). Nodes can discover each other directly."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Platform Independent"}),": Works across different operating systems and hardware."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Quality of Service (QoS)"}),": Offers a rich set of policies to configure communication behavior (e.g., reliability, history, deadline, durability)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Security"}),": Built-in mechanisms for authentication, authorization, and encryption of data."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"In ROS 2, nodes communicate directly via DDS, offering greater resilience and lower latency compared to ROS 1's master-slave architecture."}),"\n",(0,i.jsx)(t.h2,{id:"workspace-structure-src-build-install-log",children:"Workspace Structure: src, build, install, log"}),"\n",(0,i.jsx)(t.p,{children:"A ROS 2 workspace is a directory where you develop, build, and install your ROS 2 packages. It typically consists of four main directories:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-mermaid",children:"graph LR\r\n    A[workspace/] --\x3e B[src/]\r\n    A[workspace/] --\x3e C[build/]\r\n    A[workspace/] --\x3e D[install/]\r\n    A[workspace/] --\x3e E[log/]\r\n\r\n    B --\x3e F[my_package_1/]\r\n    B --\x3e G[my_package_2/]\r\n    C --\x3e H[build_artifacts/]\r\n    D --\x3e I[installed_files/]\r\n    E --\x3e J[build_logs/]\n"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"src/"})}),": Contains the source code of your ROS 2 packages (e.g., ",(0,i.jsx)(t.code,{children:"my_package_1"}),", ",(0,i.jsx)(t.code,{children:"my_package_2"}),")."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"build/"})}),": Stores intermediate build files for each package."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"install/"})}),": Where the final built and installed files (executables, libraries, Python modules, launch files) for each package reside. This is the directory you ",(0,i.jsx)(t.code,{children:"source"})," to make your packages available."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"log/"})}),": Contains log files generated during the build process."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"creating-a-ros-2-workspace",children:"Creating a ROS 2 Workspace"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Create a new workspace directory\r\nmkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws/src\r\n\r\n# Create a dummy package (optional, for testing workspace)\r\nros2 pkg create --build-type ament_python my_dummy_package\r\n\r\n# Navigate back to workspace root\r\ncd ~/ros2_ws\r\n\r\n# Build the workspace\r\ncolcon build\r\n\r\n# Source the workspace setup file (essential for using your packages)\r\nsource install/setup.bash\n"})}),"\n",(0,i.jsx)(t.h2,{id:"packages-nodes-executables",children:"Packages, Nodes, Executables"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Packages"}),": The fundamental unit of ROS 2 software organization. A package contains nodes, libraries, datasets, configuration files, and more. Each package has a ",(0,i.jsx)(t.code,{children:"package.xml"})," (metadata) and a build system configuration (e.g., ",(0,i.jsx)(t.code,{children:"CMakeLists.txt"})," for C++, ",(0,i.jsx)(t.code,{children:"setup.py"})," for Python)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Nodes"}),": Executables that perform computation. Nodes are typically designed to be modular, performing a single task (e.g., a node to read sensor data, a node to control motors)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Executables"}),": The actual programs that can be run from within a ROS 2 package. A package can contain multiple executables (e.g., a Python script, a C++ program)."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"colcon-build-system",children:"colcon Build System"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"colcon"})," is the primary build tool for ROS 2. It's a command-line tool that can build multiple packages in a workspace, handling their dependencies. It's designed to be flexible and extensible."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsxs)(t.strong,{children:["Common ",(0,i.jsx)(t.code,{children:"colcon"})," commands:"]})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"colcon build"}),": Builds all packages in the current workspace."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"colcon build --packages-select <package_name>"}),": Builds only a specific package."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"colcon build --symlink-install"}),": Creates symbolic links for installed files, useful for development as changes to Python files (for instance) are immediately reflected without rebuilding."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"colcol test"}),": Runs tests for packages."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"colcon"})," builds packages in topological order, ensuring that dependencies are built before the packages that depend on them."]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>l,x:()=>c});var r=s(6540);const i={},n=r.createContext(i);function l(e){const t=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);