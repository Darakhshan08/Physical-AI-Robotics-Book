"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[2852],{8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}},9523:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"capstone/capstone-integration","title":"Integration and Testing","description":"System integration steps, Unit testing nodes, Integration testing, Simulation checklist, Performance profiling, Bug tracking.","source":"@site/docs/capstone/integration.mdx","sourceDirName":"capstone","slug":"/capstone/capstone-integration","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/capstone/capstone-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Darakhshan08/Physical-AI-Humanoid-Robotics-Textbook/tree/main/docs/capstone/integration.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"capstone-integration","title":"Integration and Testing","sidebar_label":"Integration & Testing","sidebar_position":6,"description":"System integration steps, Unit testing nodes, Integration testing, Simulation checklist, Performance profiling, Bug tracking.","keywords":["capstone","integration","testing","unit-tests","ros2","simulation"]},"sidebar":"tutorialSidebar","previous":{"title":"Manipulation","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/capstone/capstone-manipulation"},"next":{"title":"Deployment & Demo","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/capstone/capstone-deployment"}}');var i=t(4848),r=t(8453);const o={id:"capstone-integration",title:"Integration and Testing",sidebar_label:"Integration & Testing",sidebar_position:6,description:"System integration steps, Unit testing nodes, Integration testing, Simulation checklist, Performance profiling, Bug tracking.",keywords:["capstone","integration","testing","unit-tests","ros2","simulation"]},a="Integration and Testing",c={},l=[{value:"System Integration Steps",id:"system-integration-steps",level:2},{value:"Unit Testing Nodes",id:"unit-testing-nodes",level:2},{value:"Example: Test Cases and Test Launch Config (Conceptual)",id:"example-test-cases-and-test-launch-config-conceptual",level:3},{value:"Integration Testing",id:"integration-testing",level:2},{value:"Simulation Checklist",id:"simulation-checklist",level:2},{value:"Performance Profiling",id:"performance-profiling",level:2},{value:"Bug Tracking",id:"bug-tracking",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"integration-and-testing",children:"Integration and Testing"})}),"\n",(0,i.jsxs)(n.p,{children:["Successfully bringing together all the components of an autonomous humanoid robot (perception, navigation, manipulation, HRI) into a cohesive system requires careful ",(0,i.jsx)(n.strong,{children:"integration"})," and rigorous ",(0,i.jsx)(n.strong,{children:"testing"}),". This chapter outlines the steps for integrating the various modules developed throughout the book and establishing a comprehensive testing strategy for your Capstone Project."]}),"\n",(0,i.jsx)(n.h2,{id:"system-integration-steps",children:"System Integration Steps"}),"\n",(0,i.jsx)(n.p,{children:"Integrating a complex robotic system typically follows an iterative approach:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bottom-up Integration"}),": Start by ensuring individual low-level components (e.g., motor drivers, sensor interfaces) work correctly."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Module-level Integration"}),": Integrate components within a functional module (e.g., all perception nodes, all navigation nodes)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cross-module Integration"}),": Connect different modules (e.g., navigation output to motion controller input, voice command to planning)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Full System Integration"}),": Bring all modules together to demonstrate the robot's complete capabilities."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Key considerations during integration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Flow"}),": Verify that messages are being published and subscribed to correctly, with the right types and frequencies."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Coordinate Frames"}),": Ensure all sensor data and commands are in consistent coordinate frames using ",(0,i.jsx)(n.code,{children:"tf2"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Timing and Synchronization"}),": Pay attention to the timing of operations, especially in real-time systems."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"unit-testing-nodes",children:"Unit Testing Nodes"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Unit testing"})," focuses on verifying the correctness of individual ROS 2 nodes in isolation."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": To ensure that each node's logic, message processing, and internal functions work as expected."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tools"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Python"}),": ",(0,i.jsx)(n.code,{children:"pytest"})," is the standard Python testing framework. ",(0,i.jsx)(n.code,{children:"ros2 launch"})," can run ",(0,i.jsx)(n.code,{children:"pytest"})," tests defined within ROS 2 packages."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"C++"}),": ",(0,i.jsx)(n.code,{children:"gtest"})," (Google Test) is commonly used."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"example-test-cases-and-test-launch-config-conceptual",children:"Example: Test Cases and Test Launch Config (Conceptual)"}),"\n",(0,i.jsx)(n.p,{children:"This conceptual example shows a Python unit test for a simple ROS 2 node and a launch file to run tests."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"my_python_package/test/test_my_node.py"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import pytest\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MyTestNode(Node):\r\n    def __init__(self):\r\n        super().__init__('my_test_node')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            '/test_topic',\r\n            self.listener_callback,\r\n            10\r\n        )\r\n        self.received_msg = None\r\n\r\n    def listener_callback(self, msg):\r\n        self.received_msg = msg\r\n\r\n@pytest.fixture\r\ndef minimal_node():\r\n    rclpy.init()\r\n    node = Node('minimal_node')\r\n    yield node\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\ndef test_my_node_publishes_message(minimal_node):\r\n    publisher = minimal_node.create_publisher(String, '/test_topic', 10)\r\n    test_message = String(data='Hello Test!')\r\n    \r\n    # Give some time for publisher and subscriber to connect\r\n    # In a real test, you might use a more robust synchronization method\r\n    rclpy.spin_until_future_complete(minimal_node, publisher.publish(test_message), timeout_sec=1.0)\r\n    \r\n    # Assert that the message was received by the subscriber\r\n    test_subscriber_node = MyTestNode()\r\n    rclpy.spin_once(test_subscriber_node, timeout_sec=1.0) # Check for received message\r\n    \r\n    assert test_subscriber_node.received_msg is not None\r\n    assert test_subscriber_node.received_msg.data == 'Hello Test!'\r\n\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"my_python_package/launch/test_my_package.launch.py"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import ExecuteProcess\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    package_name = 'my_python_package'\r\n    \r\n    return LaunchDescription([\r\n        Node(\r\n            package=package_name,\r\n            executable='my_test_node', # The node being tested or a test helper node\r\n            name='test_helper_node',\r\n            output='screen',\r\n        ),\r\n        # Run pytest\r\n        ExecuteProcess(\r\n            cmd=['pytest', os.path.join(package_name, 'test')],\r\n            output='screen',\r\n        )\r\n    ])\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You would run these tests using ",(0,i.jsx)(n.code,{children:"ros2 launch my_python_package test_my_package.launch.py"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"integration-testing",children:"Integration Testing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Integration testing"})," verifies that different nodes and modules interact correctly when connected."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Purpose"}),": To detect interface errors, data flow issues, and incorrect assumptions between components."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scenarios"}),": Test specific sequences of actions that involve multiple nodes (e.g., send a navigation goal, verify robot moves and avoids obstacles)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Simulation"}),": Often performed in simulation (Gazebo or Isaac Sim) to create repeatable and controlled test conditions."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"simulation-checklist",children:"Simulation Checklist"}),"\n",(0,i.jsx)(n.p,{children:"Before deploying to a real robot, your integrated system should pass a comprehensive simulation checklist:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Basic Functionality"}),": Does the robot respond to commands?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Navigation"}),": Can it navigate to targets, avoid static/dynamic obstacles?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Manipulation"}),": Can it detect, grasp, and place objects?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"HRI"}),": Does it understand voice commands and respond appropriately?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Robustness"}),": How does it handle ambiguous commands or unexpected events?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance"}),": Is the simulation running in real-time? Are computations within limits?"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"performance-profiling",children:"Performance Profiling"}),"\n",(0,i.jsxs)(n.p,{children:["For real-time robotics, ",(0,i.jsx)(n.strong,{children:"performance profiling"})," is crucial to identify bottlenecks."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"ros2 topic hz"})}),": Check topic publication rates."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"rqt_plot"})}),": Visualize topic data over time."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"htop"})," / ",(0,i.jsx)(n.code,{children:"nvidia-smi"})]}),": Monitor CPU/GPU usage."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"gprof"})," / ",(0,i.jsx)(n.code,{children:"perf"})]}),": For C++ code profiling."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"cProfile"})," / ",(0,i.jsx)(n.code,{children:"snakeviz"})]}),": For Python code profiling."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"bug-tracking",children:"Bug Tracking"}),"\n",(0,i.jsxs)(n.p,{children:["A systematic approach to ",(0,i.jsx)(n.strong,{children:"bug tracking"})," is essential during integration and testing."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Version Control"}),": Track all code changes using Git."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Issue Tracker"}),": Use a platform like GitHub Issues, Jira, or similar to log bugs, assign priorities, and track resolutions."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clear Descriptions"}),": Provide detailed bug reports, including steps to reproduce, expected behavior, and observed behavior."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reproducibility"}),": Ensure bugs are reproducible for efficient debugging."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);