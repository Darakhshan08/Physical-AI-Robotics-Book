"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[9175],{871:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module-2-simulation/gazebo-setup","title":"Gazebo Simulation Environment Setup","description":"Gazebo Harmonic overview, Installation verification, GUI walkthrough, World files (.sdf), Loading robots, ros_gz_bridge setup.","source":"@site/docs/module-2-simulation/gazebo-setup.mdx","sourceDirName":"module-2-simulation","slug":"/module-2-simulation/gazebo-setup","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/module-2-simulation/gazebo-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/Darakhshan08/Physical-AI-Humanoid-Robotics-Textbook/tree/main/docs/module-2-simulation/gazebo-setup.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"gazebo-setup","title":"Gazebo Simulation Environment Setup","sidebar_label":"Gazebo Setup","sidebar_position":1,"description":"Gazebo Harmonic overview, Installation verification, GUI walkthrough, World files (.sdf), Loading robots, ros_gz_bridge setup.","keywords":["gazebo","simulation","ros2","sdf","ros_gz_bridge"]},"sidebar":"tutorialSidebar","previous":{"title":"Part 2: The Digital Twin - Gazebo & Unity","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/category/part-2-the-digital-twin---gazebo--unity"},"next":{"title":"URDF & SDF","permalink":"/Physical-AI-Humanoid-Robotics-Textbook/docs/module-2-simulation/urdf-sdf"}}');var r=o(4848),s=o(8453);const t={id:"gazebo-setup",title:"Gazebo Simulation Environment Setup",sidebar_label:"Gazebo Setup",sidebar_position:1,description:"Gazebo Harmonic overview, Installation verification, GUI walkthrough, World files (.sdf), Loading robots, ros_gz_bridge setup.",keywords:["gazebo","simulation","ros2","sdf","ros_gz_bridge"]},a="Gazebo Simulation Environment Setup",l={},d=[{value:"Gazebo Harmonic Overview",id:"gazebo-harmonic-overview",level:2},{value:"Installation Verification",id:"installation-verification",level:2},{value:"GUI Walkthrough",id:"gui-walkthrough",level:2},{value:"World Files (.sdf)",id:"world-files-sdf",level:2},{value:"Example: Simple Gazebo World File",id:"example-simple-gazebo-world-file",level:3},{value:"Loading Robots",id:"loading-robots",level:2},{value:"Example: Spawning a Robot in Gazebo (ROS 2 Launch)",id:"example-spawning-a-robot-in-gazebo-ros-2-launch",level:3},{value:"ros_gz_bridge setup",id:"ros_gz_bridge-setup",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gazebo-simulation-environment-setup",children:"Gazebo Simulation Environment Setup"})}),"\n",(0,r.jsx)(n.p,{children:"Gazebo is a powerful 3D robotics simulator that accurately and efficiently simulates robots in complex indoor and outdoor environments. It's an essential tool for developing and testing robotic applications without the need for physical hardware. We will focus on Gazebo Harmonic, the default version for ROS 2 Humble."}),"\n",(0,r.jsx)(n.h2,{id:"gazebo-harmonic-overview",children:"Gazebo Harmonic Overview"}),"\n",(0,r.jsx)(n.p,{children:"Gazebo Harmonic is a version of Gazebo that is tightly integrated with ROS 2 Humble. It provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A robust physics engine (ODE, Bullet, DART, Simbody)."}),"\n",(0,r.jsx)(n.li,{children:"High-quality graphics and realistic sensor simulation."}),"\n",(0,r.jsx)(n.li,{children:"A user-friendly GUI for visualization and interaction."}),"\n",(0,r.jsx)(n.li,{children:"An extensive collection of models (robots, environments, objects)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation-verification",children:"Installation Verification"}),"\n",(0,r.jsx)(n.p,{children:"During the Environment Setup chapter (Chapter 0.4), you would have installed Gazebo Harmonic. You can verify your installation by typing:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gazebo --version\n"})}),"\n",(0,r.jsxs)(n.p,{children:["You should see output indicating the Gazebo version (e.g., ",(0,r.jsx)(n.code,{children:"Gazebo multi-robot simulator, version X.X.X"}),")."]}),"\n",(0,r.jsx)(n.h2,{id:"gui-walkthrough",children:"GUI Walkthrough"}),"\n",(0,r.jsx)(n.p,{children:"To launch the Gazebo GUI without a specific world:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gazebo\n"})}),"\n",(0,r.jsx)(n.p,{children:"Once launched, you'll see a 3D environment. Key components of the GUI include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Toolbar"}),": For adding models, manipulating objects, pausing/resuming simulation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"World Tree"}),": Lists all entities in the simulation (models, lights, sensors)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scene Tab"}),": Controls camera view, lighting, and visual properties."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Console"}),": Displays messages and warnings from Gazebo."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Spend some time exploring the interface, navigating the 3D world, and adding simple shapes."}),"\n",(0,r.jsx)(n.h2,{id:"world-files-sdf",children:"World Files (.sdf)"}),"\n",(0,r.jsx)(n.p,{children:"Gazebo worlds are defined using SDF (Simulation Description Format) files. These XML files describe the environment, including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Models"}),": Robots, objects, terrain."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lights"}),": Ambient, directional, point lights."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Physics properties"}),": Gravity, simulation step size."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensors"}),": Cameras, LiDAR, IMUs (can also be part of robot models)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-simple-gazebo-world-file",children:"Example: Simple Gazebo World File"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"my_robot_worlds/empty_world.sdf"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\r\n<sdf version="1.7">\r\n  <world name="empty_world">\r\n    <gravity>0 0 -9.8</gravity>\r\n    <scene>\r\n      <ambient>0.4 0.4 0.4 1</ambient>\r\n      <background>0.7 0.7 0.7 1</background>\r\n      <sky>\r\n        <clouds>\r\n          <speed>12</speed>\r\n        </clouds>\r\n      </sky>\r\n    </scene>\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,r.jsx)(n.p,{children:"To launch this world:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"gazebo --verbose empty_world.sdf\n"})}),"\n",(0,r.jsxs)(n.p,{children:["(You might need to specify the full path if ",(0,r.jsx)(n.code,{children:"empty_world.sdf"})," is not in Gazebo's model path.)"]}),"\n",(0,r.jsx)(n.h2,{id:"loading-robots",children:"Loading Robots"}),"\n",(0,r.jsx)(n.p,{children:"You can load robot models into Gazebo worlds either directly via the GUI or by specifying them in the SDF world file. For ROS 2 integration, it's common to launch Gazebo and then spawn the robot using a ROS 2 node."}),"\n",(0,r.jsx)(n.h3,{id:"example-spawning-a-robot-in-gazebo-ros-2-launch",children:"Example: Spawning a Robot in Gazebo (ROS 2 Launch)"}),"\n",(0,r.jsx)(n.p,{children:"This typically involves a launch file that:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Starts Gazebo with a world."}),"\n",(0,r.jsxs)(n.li,{children:["Launches a ",(0,r.jsx)(n.code,{children:"robot_state_publisher"})," to publish the robot's URDF."]}),"\n",(0,r.jsxs)(n.li,{children:["Spawns the robot model into Gazebo using ",(0,r.jsx)(n.code,{children:"ros2_gazebo"})," tools."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"my_robot_launch/launch/spawn_robot.launch.py"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\ndef generate_launch_description():\r\n    # Path to your robot's URDF file\r\n    urdf_file = os.path.join(\r\n        get_package_share_directory('my_robot_description'),\r\n        'urdf',\r\n        'my_robot.urdf'\r\n    )\r\n\r\n    # Robot State Publisher Node\r\n    robot_state_publisher_node = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        parameters=[{'robot_description': urdf_file}],\r\n        output='screen'\r\n    )\r\n\r\n    # Gazebo launch\r\n    gazebo_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource([\r\n            PathJoinSubstitution([\r\n                get_package_share_directory('gazebo_ros'),\r\n                'launch',\r\n                'gazebo.launch.py'\r\n            ])\r\n        ])\r\n    )\r\n\r\n    # Spawn robot in Gazebo\r\n    spawn_entity_node = Node(\r\n        package='gazebo_ros',\r\n        executable='spawn_entity.py',\r\n        arguments=['-topic', 'robot_description', '-entity', 'my_robot'],\r\n        output='screen'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        gazebo_launch,\r\n        robot_state_publisher_node,\r\n        spawn_entity_node,\r\n    ])\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ros_gz_bridge-setup",children:"ros_gz_bridge setup"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ros_gz_bridge"})," package allows seamless communication between ROS 2 and Gazebo. It bridges Gazebo topics (e.g., sensor data, odometry) to ROS 2 topics, and vice-versa (e.g., sending commands from ROS 2 to Gazebo-controlled robots)."]}),"\n",(0,r.jsx)(n.p,{children:"To set up a bridge:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Install the bridge"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-ros-gz-bridge\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch a bridge node"}),": You can use a launch file to configure bridges."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"my_robot_launch/launch/gz_bridge.launch.py"})})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='ros_gz_bridge',\r\n            executable='parameter_bridge',\r\n            arguments=[\r\n                '/clock@rosgraph_msgs/msg/Clock[ignition.msgs.Clock',\r\n                '/model/my_robot/joint_state@sensor_msgs/msg/JointState[ignition.msgs.Model',\r\n                # Add more bridges as needed\r\n            ],\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,r.jsx)(n.p,{children:"This example bridges the Gazebo clock and joint states to ROS 2."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var i=o(6540);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);